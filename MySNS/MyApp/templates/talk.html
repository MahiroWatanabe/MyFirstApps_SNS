{% extends 'base2.html' %}
{% load static %}

{% block popularity-sort %}
<li class="picktext__li"><a href="{% url 'MyApp:talk' %}?popularity=true">人気順</a></li>
<li class="picktext__li"><a href="">最近</a></li>
{% endblock popularity-sort %}

{% block main-talk-post %}
<section class="picktalk">
    {% for talk in talks %}
    <div class="picktalk__container">
        <div class="picktalk__body">
            <div class="picktalk__header">
                <div class="round-image-container">
                    <img src="{% static 'images/image-p1.jpg' %}" class="picktalk__img" alt="icon">
                </div>
                <div class="picktalk__author">
                    <p style="margin-right: 10px;">{{ talk.author }}</p>
                    <p class="picktalk__author"> ID: {{ talk.author_id }}</p>
                </div>
            </div>
            <p class="picktalk__data">{{ talk.date_posted|date:"m/d/Y" }}</p>      
            <p class="picktalk__p">{{ talk.content }}</p>
        </div>
        <div class="picktalk__operation">
            <div class="mypost__good">
              {% if is_user_liked_for_post %}
              <button type="button" id="ajax-like-for-post" style="border:none;background:none">
              <!-- すでにイイねしている時はfasクラス -->
              <i class="fas fa-heart text-danger" id="like-for-post-icon"></i>
              </button>
              {% else %}
              <button type="button" id="ajax-like-for-post" style="border:none;background:none">
              <!-- イイねしていないときはfarクラス -->
              <i class="far fa-heart text-danger" id="like-for-post-icon"></i>
              </button>
              {% endif %}
              <!-- イイねの数 -->
              <span id="postlike_count">{{ postlike_count }}</span>
              <span>いいね</span>
            </div>

            <div class="mypost__watch">
                <i class="fas fa-eye"></i>
                <span>{{post.views}}</span>
                <span>閲覧</span>
            </div>
          </div>
    </div>
    {% empty %}
        <p>No posts yet.</p>
    {% endfor %}
</section>
{% endblock main-talk-post %}

{% block main-create %}
<a class="picktext__a" href="{% url 'MyApp:talk_create' %}">新規投稿を作成</a>
{% endblock main-create %}

{% block main-create2 %}
<a class="picktext__a" href="{% url 'MyApp:talk_create' %}"><span>+</span></a>
{% endblock main-create2 %}